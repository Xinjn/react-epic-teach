(this["webpackJsonpreact-epic-teach"]=this["webpackJsonpreact-epic-teach"]||[]).push([[9],{250:function(e,t,n){"use strict";n.r(t);var r,c,i,l,s=n(0),a=n(78),d=n(128),j=n(31),h=n(75),o=n(18),u=n(246),b=n(94),g=n(151),O=n(251),p=n(32),x=n(6),f=u.a.Dragger,v=p.a.div(r||(r=Object(j.a)(["\n    margin-top:30px;\n    border:1px dashed #ccc;\n    padding:20px;\n"]))),m=p.a.h1(c||(c=Object(j.a)(["\n    margin:20px 0;\n    text-align:center\n"]))),w=p.a.img(i||(i=Object(j.a)(["\n    max-width:300px;\n"]))),S=Object(a.a)((function(){var e=Object(h.a)(),t=e.ImageStore,n=e.UserStore,r=Object(s.useRef)(),c=Object(s.useRef)(),i=Object(o.d)((function(){return{width:null,setWidth:function(e){i.width=e},get widthStr(){return i.width?"/w/".concat(i.width):""},height:null,setHeight:function(e){i.height=e},get heightStr(){return i.height?"/h/".concat(i.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+i.widthStr+i.heightStr}}})),l={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===n.currentUser?(b.b.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20"),!1):(window.file=e,/(svg$)|(png$)|(jpg$)|(jpeg$)|(git$)/gi.test(e.type)?e.size>1048576?(b.b.error("\u56fe\u7247\u6700\u59271M"),!1):(t.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(b.b.error("\u53ea\u80fd\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1))}};return Object(x.jsxs)("div",{children:[Object(x.jsx)(g.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUpLoading,children:Object(x.jsxs)(f,Object(d.a)(Object(d.a)({},l),{},{children:[Object(x.jsx)("p",{className:"ant-upload-drag-icon",children:Object(x.jsx)(O.a,{})}),Object(x.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"}),Object(x.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301.png/.gif/.jpg/.svg\u683c\u5f0f\u7684\u56fe\u7247\uff0c\u56fe\u7247\u6700\u59271M"})]}))}),t.serverFile?Object(x.jsxs)(v,{children:[Object(x.jsx)(m,{children:"\u4e0a\u4f20\u7ed3\u679c"}),Object(x.jsxs)("dl",{children:[Object(x.jsx)("dt",{children:" \u7ebf\u4e0a\u5730\u5740"}),Object(x.jsx)("dd",{children:Object(x.jsx)("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url,children:t.serverFile.attributes.url.attributes.url})}),Object(x.jsx)("dt",{children:"\u6587\u4ef6\u540d"}),Object(x.jsx)("dd",{children:t.filename}),Object(x.jsx)("dt",{children:"\u56fe\u7247\u9884\u89c8"}),Object(x.jsx)("dd",{children:Object(x.jsx)(w,{src:t.serverFile.attributes.url.attributes.url})}),Object(x.jsx)("dt",{children:"\u66f4\u591a\u5c3a\u5bf8"}),Object(x.jsxs)("dd",{children:[Object(x.jsx)("input",{ref:r,onChange:function(){console.log("bindWidthChange"),console.log(r.current.value),i.setWidth(r.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09"}),Object(x.jsx)("input",{ref:c,onChange:function(){console.log("bindHeightChange"),console.log(c.current.value),i.setHeight(c.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09"})]}),Object(x.jsx)("dd",{children:Object(x.jsx)("a",{target:"_blank",href:i.fullStr,children:i.fullStr})})]})]}):null]})})),F=p.a.div(l||(l=Object(j.a)(["\n    background:orange;\n    padding:10px;\n    margin:30px 0;\n    color:#fff;\n    border-radius:4px;\n"]))),U=Object(a.a)((function(e){var t=e.children,n=Object(h.a)().UserStore;return console.log(n),Object(x.jsx)(x.Fragment,{children:n.currentUser?null:Object(x.jsx)(F,{children:t})})})),k=Object(a.a)((function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(U,{children:"\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01\uff01\uff01"}),Object(x.jsx)(S,{})]})}));t.default=k}}]);
//# sourceMappingURL=9.8adfd964.chunk.js.map